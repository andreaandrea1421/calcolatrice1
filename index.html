<!DOCTYPE html>
<html lang="it">
<head>
    <style>
    body {
        background-color: rgb(213, 241, 241);
    }        
    input {
        height: 50px;
        border : 1px solid black;
        border-radius: 10px;
        margin-bottom: 5px;
        text-align: right;
        font-size: 150%;
    }
    button {
        background-color: rgb(236, 245, 226);
        border : 1px solid black;
        border-radius: 20px;
        width: 60px;
        height: 60px;
        margin: 5px;
        font-size: 150%;
    }
    </style>
    <script>
        let num1 = undefined;
        let operazione = undefined;
        let reset = false;

        function Elevato(){
            num1 = parseFloat(document.getElementById("numeri").value);
            document.getElementById("numeri").value = "";
            operazione = "elevato";
        }    

        function calcolaSomma(){
            num1 = parseFloat(document.getElementById("numeri").value);
            document.getElementById("numeri").value = "";
            operazione = "addizione";

        }

        function calcolaSottrazione(){
            num1 = parseFloat(document.getElementById("numeri").value);
            document.getElementById("numeri").value = "";
            operazione = "sottrazione";
        }

        function calcolaMoltiplicazione(){
            num1 = parseFloat(document.getElementById("numeri").value);
            document.getElementById("numeri").value = "";
            operazione = "moltiplicazione";
        }

        function CalcolaDivisione(){
            num1 = parseFloat(document.getElementById("numeri").value);
            document.getElementById("numeri").value = "";
            operazione = "divisione";
        }
        function Negativo(){
            let negativo
            negativo = parseFloat(document.getElementById("numeri").value);
            let num1 = negativo * (-1);
            document.getElementById("numeri").value = num1;
        }

        function Risultato(){
            let risultato;
            let num2 = parseFloat(document.getElementById("numeri").value) 
            
            if (operazione == "elevato"){
                let c = num1;
                for(let i=1; i < num2; i++){
                    c = c * num1;
                }
                risultato = c;
            }    
            if (operazione == "addizione"){
                risultato = num1 + num2;
            }
            if (operazione == "sottrazione"){
                risultato = num1 - num2;
            }
            if (operazione == "moltiplicazione"){
                risultato = num1 * num2;
            }
            if (operazione == "divisione"){
                risultato = num1 / num2;
            }    
            reset = true;
            document.getElementById("numeri").value = risultato;
            num1 = "";
            num2 = "";
            operazione = "";
        }
        function Clear(){
            num1 = "";       
            document.getElementById("numeri").value ="";
        }   
        function Punto(){
            document.getElementById("numeri").value += ".";
        }
        function scrivi(elemento){
            if (reset == true){
                document.getElementById("numeri").value = ""
                document.getElementById("numeri").value += elemento;
                reset = false;   
            } else if(reset == false){
            document.getElementById("numeri").value += elemento;
            }
        }

    </script>
</head>
<body>

    <table align ="center">
        <tr>
            <td colspan="4"><input type="text" id="numeri" style="text-align: right; background-color: rgb(236, 245, 226);"></p></td>
        </tr>
        <tr>
            <td><button onclick="Clear()"; style="background-color: rgb(213, 241, 241);">AC</button></td>
            <td><button onclick="Elevato()"; style="background-color: rgb(213, 241, 241);">^</button></td>
            <td><button onclick="Negativo()"; style="background-color: rgb(213, 241, 241);">+/-</button></td>
            <td><button onclick="CalcolaDivisione()"; style="background-color: rgb(238, 222, 199);">:</button></td>
        </tr>
        <tr>
            <td><button onclick="scrivi('7');">7</button></td>
            <td><button onclick="scrivi('8')">8</button></td>
            <td><button onclick="scrivi('9')">9</button></td>
            <td><button onclick="calcolaMoltiplicazione()"; style="background-color: rgb(238, 222, 199);">x</button></td>
        </tr>
        <tr>
            <td><button onclick="scrivi('4')">4</button></td>
            <td><button onclick="scrivi('5')">5</button></td>
            <td><button onclick="scrivi('6')">6</button></td>
            <td><button onclick="calcolaSottrazione()"; style="background-color: rgb(238, 222, 199);">-</button></td>
        </tr>
        <tr>
            <td><button onclick="scrivi('1')">1</button></td>
            <td><button onclick="scrivi('2')">2</button></td>
            <td><button onclick="scrivi('3')">3</button></td>
            <td><button onclick="calcolaSomma();"; style="background-color: rgb(238, 222, 199);">+</button></td>
        </tr>
        <tr>
            <td><button onclick="Punto()">.</button></td>
            <td><button onclick="scrivi('0')">0</button>   
            <td><button onclick="scrivi('00')">00</button>                
            <td><button onclick="Risultato()"; style="background-color: rgb(238, 222, 199);">=</button></td>
        </tr>
    </table>
</body>
</html>
